{% macro parse(
    all_caps='',
    cabob_case='',
    default='',
    required=false,
    flag=false
) %}
{{ all_caps }}={{ default }}
for arg in "$@"; do
    case $arg in
    --{{ cabob_case }}=*) {{ all_caps }}="${arg#*=}";;
    {% if flag %}
    --{{ cabob_case }}) {{ all_caps }}=true;;
    {% endif %}
    esac
done
{% if required %}
if [ -z "${{ all_caps }}" ]; then
    fatal "The --{{ cabob_case }} argument is required but not provided"
fi
{% endif %}
{% endmacro %}

{% macro debug(all_caps='', cabob_case='', hint='') %}
if [ "$DEBUG" = true ]; then
    debug "{{ cabob_case }}: '${{ all_caps }}' ({{ hint }})"
fi
{% endmacro %}